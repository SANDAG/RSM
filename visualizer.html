
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://sandag.github.io/rsm/visualizer.html">
      
      
        <link rel="prev" href="userguide.html">
      
      
        <link rel="next" href="api.html">
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-9.2.7">
    
    
      
        <title>Visualizer - SANDAG Rapid Strategic Model</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.046329b4.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.85d0ee34.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.13.0/css/all.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="deep-orange">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#introduction" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="index.html" title="SANDAG Rapid Strategic Model" class="md-header__button md-logo" aria-label="SANDAG Rapid Strategic Model" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SANDAG Rapid Strategic Model
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Visualizer
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="deep-orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="grey"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/SANDAG/RSM" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="index.html" class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="development.html" class="md-tabs__link">
        
  
    
  
  Development

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="assessment.html" class="md-tabs__link">
        
  
    
  
  Assessment

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="userguide.html" class="md-tabs__link">
        
  
    
  
  User Guide

      </a>
    </li>
  

      
        
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="visualizer.html" class="md-tabs__link">
        
  
    
  
  Visualizer

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="api.html" class="md-tabs__link">
        
  
    
  
  API

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="SANDAG Rapid Strategic Model" class="md-nav__button md-logo" aria-label="SANDAG Rapid Strategic Model" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    SANDAG Rapid Strategic Model
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/SANDAG/RSM" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="development.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Development
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="assessment.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Assessment
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="userguide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    User Guide
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Visualizer
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="visualizer.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Visualizer
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#design" class="md-nav__link">
    Design
  </a>
  
    <nav class="md-nav" aria-label="Design">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-pipeline" class="md-nav__link">
    Data Pipeline
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-processing" class="md-nav__link">
    Post Processing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#simwrapper" class="md-nav__link">
    SimWrapper
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup" class="md-nav__link">
    Setup
  </a>
  
    <nav class="md-nav" aria-label="Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#visualization" class="md-nav__link">
    Visualization
  </a>
  
    <nav class="md-nav" aria-label="Visualization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bar-charts" class="md-nav__link">
    Bar Charts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-flows" class="md-nav__link">
    Network Flows
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sample-rate-map" class="md-nav__link">
    Sample Rate Map
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zero-car-map" class="md-nav__link">
    Zero Car Map
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#od-flows" class="md-nav__link">
    OD Flows
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-run" class="md-nav__link">
    How to Run
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="api.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#design" class="md-nav__link">
    Design
  </a>
  
    <nav class="md-nav" aria-label="Design">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-pipeline" class="md-nav__link">
    Data Pipeline
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-processing" class="md-nav__link">
    Post Processing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#simwrapper" class="md-nav__link">
    SimWrapper
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup" class="md-nav__link">
    Setup
  </a>
  
    <nav class="md-nav" aria-label="Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#visualization" class="md-nav__link">
    Visualization
  </a>
  
    <nav class="md-nav" aria-label="Visualization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bar-charts" class="md-nav__link">
    Bar Charts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-flows" class="md-nav__link">
    Network Flows
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sample-rate-map" class="md-nav__link">
    Sample Rate Map
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zero-car-map" class="md-nav__link">
    Zero Car Map
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#od-flows" class="md-nav__link">
    OD Flows
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-run" class="md-nav__link">
    How to Run
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>Visualizer</h1>

<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link"> ¶</a></h2>
<p>The team developed a RSM visualizer tool to allow user to summarize and compare metrics from multiple RSM model runs. It is a dashboard style tool built using <a href="https://simwrapper.github.io/">SimWrapper</a> (an open source web-based data visualization tool for building disaggregate transportation simulations) and also leverages SANDAG&rsquo;s <a href="https://github.com/SANDAG/Data-Pipeline-Tool">Data Pipeline Tool</a>. SimWrapper software works by creating a mini file server to host reduced data summaries of travel model. The dashboard is created via YAML files, which can be customized to automate interactive report summaries, such as charts, summary tables, and spatial maps. </p>
<h2 id="design">Design<a class="headerlink" href="#design" title="Permanent link"> ¶</a></h2>
<p>Visualizer has three main components: </p>
<ul>
<li>Data Pipeline</li>
<li>Post Processing</li>
<li>SimWrapper Dashboard</li>
</ul>
<h4 id="data-pipeline">Data Pipeline<a class="headerlink" href="#data-pipeline" title="Permanent link"> ¶</a></h4>
<p>SANDAG Data Pipeline Tool aims to aid in the process of building data pipelines that ingest, transform, and summarize data by taking advantage of the parameterization of data pipelines. Rather than coding from scratch, configure a few files and the tool will figure out the rest. Using pipeline helps to get the desired model summaries in a csv format. See <a href="https://github.com/SANDAG/RSM/blob/visualizer/visualizer/pipeline/README.md">here</a> to learn how the tool works. Note that RSM visualizer currently supports a fixed set of summaries from the model and additional summaries can be easily incorporated into the pipeline by modifying the <a href="https://github.com/SANDAG/RSM/blob/visualizer/visualizer/pipeline/config/settings.yaml">settings</a>, <a href="https://github.com/SANDAG/RSM/blob/visualizer/visualizer/pipeline/config/processor.csv">processor</a> and <a href="https://github.com/SANDAG/RSM/blob/visualizer/visualizer/pipeline/config/expressions.csv">expression</a> files.</p>
<h4 id="post-processing">Post Processing<a class="headerlink" href="#post-processing" title="Permanent link"> ¶</a></h4>
<p>Next, there is a post-processing <a href="https://github.com/SANDAG/RSM/blob/visualizer/visualizer/visualizer_support.py">script</a> to perform all the data manipulations which are done outside of the data pipeline tool to prepare the data in the format required by SimWrapper. Similar to data pipeline, user can also modify this post-processing script to add any new summaries in order to bring them into the SimWrapper dashboard in order to use them in Simwrapper.</p>
<h4 id="simwrapper">SimWrapper<a class="headerlink" href="#simwrapper" title="Permanent link"> ¶</a></h4>
<p>Lastly, the created summary files are consumed by SimWrapper to generate dashboard. SimWrapper is a web platform that can display either individual full-page data visualizations, or collections of visualizations in &ldquo;dashboard&rdquo; format. It expects your simulation outputs to just be local files on your filesystem somewhere; there is no need to upload the summary files to centralized database or cloud server to create the dashboard.</p>
<p>For setting up the visualization in SimWrapper, configuration files (in YAML format) are created that provide all the config details to get it up and running, such as which data to load, how to lay out the dashboard, what type of chart to create etc. Refer to SimWrapper documentation <a href="https://simwrapper.github.io/docs/">here</a> to get more familiar with it.</p>
<h2 id="setup">Setup<a class="headerlink" href="#setup" title="Permanent link"> ¶</a></h2>
<p>The visualizer is currently deployed to compare 3 scenario runs at once. Running data pipeline and post-processing for each of those scenario is controlled thorugh the process_scenarios python <a href="https://github.com/SANDAG/RSM/blob/visualizer/visualizer/process_scenarios.py">script</a> and configuration for scenarios are specified using the <a href="https://github.com/SANDAG/RSM/blob/visualizer/visualizer/config/scenarios.yaml">scenarios.yaml</a> file. User will need to modify this yaml file to specify the scenarios they would like to compare using visualizer. There are two categories of scenarios to be specified - RSM and ABM (Donor Model) runs. For each of the scenario run, specify the directory of input and report folders in this configuration file. Files from input and report folder for the scenarios are then used in the data pipeline tool and post-processing step to create summaries in the processed folder of SimWrapper directory. Note that additional number of scenarios can be compared by extending the configuration in this file yaml file.</p>
<h3 id="visualization">Visualization<a class="headerlink" href="#visualization" title="Permanent link"> ¶</a></h3>
<p>Currently there are five default visualization summaries in the visualizer:</p>
<h4 id="bar-charts">Bar Charts<a class="headerlink" href="#bar-charts" title="Permanent link"> ¶</a></h4>
<p>These charts are for comparing VMT, mode shares, transit boardings and trip purpose by time-of-day distribution. <a href="https://github.com/SANDAG/RSM/blob/visualizer/visualizer/simwrapper/dashboard-charts.yaml">Here</a> is a snapshot of sample YAML configuration file for bar chart:</p>
<p><img alt="" src="images\visualizer\image_7.PNG" /></p>
<p>User can add as many charts as you want to the layout. For each chart, you should specify a csv file for the summaries and columns should match the csv file column name. There are also other specifications for the bar charts which you learn more about <a href="https://simwrapper.github.io/docs/bar-area-line">here</a>.</p>
<p>Here is how the how the visual looks in the dashboard:
<img alt="" src="images\visualizer\image_8.PNG" /></p>
<h4 id="network-flows">Network Flows<a class="headerlink" href="#network-flows" title="Permanent link"> ¶</a></h4>
<p>These charts are for comparing flows and VMT on the network. You can compare any two scenarios on one network. <a href="https://github.com/SANDAG/RSM/blob/visualizer/visualizer/simwrapper/dashboard-network.yaml">Here</a> is a snapshot of the configuration file: </p>
<p><img alt="" src="images\visualizer\image_9.PNG" /></p>
<p>For each network you need the csv files for two scenario summaries and an underlying network file which should be in geojson format. The supporting <a href="https://github.com/SANDAG/RSM/blob/visualizer/visualizer/process_scenarios.py">script</a> creates the geojson files from the model outputs for the SimWrapper. For more info on network visualization specification see <a href="https://simwrapper.github.io/docs/link-vols">here</a>.</p>
<p>Here is how the how the visual looks in the dashboard:
<img alt="" src="images\visualizer\image_10.PNG" /></p>
<h4 id="sample-rate-map">Sample Rate Map<a class="headerlink" href="#sample-rate-map" title="Permanent link"> ¶</a></h4>
<p>This visual is a map for showing the RSM sample rates for each zone. <a href="https://github.com/SANDAG/RSM/blob/visualizer/visualizer/simwrapper/dashboard-sample-rate-maps.yaml">Here</a> is a snapshot of the configuration [file]:</p>
<p><img alt="" src="images\visualizer\image_11.PNG" /></p>
<p>For each map you need a csv file of sample rates and the map of zones in .shp format. For more info on network visualization specification see <a href="https://simwrapper.github.io/docs/shapefiles">here</a>.</p>
<p>Here is how the how the visual looks in the dashboard:
<img alt="" src="images\visualizer\image_12.PNG" /></p>
<h4 id="zero-car-map">Zero Car Map<a class="headerlink" href="#zero-car-map" title="Permanent link"> ¶</a></h4>
<p>This visual is a map for showing the zero-car household distribution. <a href="https://github.com/SANDAG/RSM/blob/visualizer/visualizer/simwrapper/dashboard-zero-car-maps.yaml">Here</a> is a snapshot of the configuration file:</p>
<p><img alt="" src="images\visualizer\image_13.PNG" /></p>
<p>For each map you need a csv file of household rates and the map of zones in .shp format. For more info on network visualization specification see <a href="https://simwrapper.github.io/docs/shapefiles">here</a></p>
<p>Here is how the how the visual looks in the dashboard:
<img alt="" src="images\visualizer\image_14.PNG" /></p>
<h4 id="od-flows">OD Flows<a class="headerlink" href="#od-flows" title="Permanent link"> ¶</a></h4>
<p>This chart is for showing OD trip flows. <a href="https://github.com/SANDAG/RSM/blob/visualizer/visualizer/simwrapper/viz-od-donor-model.yaml">Here</a> is a snapshot of the configuration file:</p>
<p><img alt="" src="images\visualizer\image_15.PNG" /></p>
<p>For each map you need a csv file of od trip flows and the map of zones in .shp format. For more info on network visualization specification see <a href="https://simwrapper.github.io/docs/aggregate-od">here</a></p>
<p>Here is how the how the visual looks in the dashboard:
<img alt="" src="images\visualizer\image_16.PNG" /></p>
<p>You can also modify the data and configuration of each visual on SimWrapper server. For each visual, there is a configuration button (see below), where you can add data, and modify all the map configurations. You can also export these configurations into a YAML file so you can use it in future.</p>
<p><img alt="" src="images\visualizer\image_17.PNG" /></p>
<h3 id="how-to-run">How to Run<a class="headerlink" href="#how-to-run" title="Permanent link"> ¶</a></h3>
<p>The first step to run the visualizer is to bring in the scenario files. Currently the visualizer is setup to compare three scenarios: <strong>donor_ model</strong>, <strong>rsm_base</strong> and <strong>rsm_scen</strong>. donor_model is the ABM run, rsm_base is the baseline (no-action) RSM run and rsm_scen is the project (action) RSM run.</p>
<ul>
<li>
<p>For each of the three scenarios, copy report folder from their respective scenario run to &ldquo;visualizer/simwrapper/data/external/[scenario_name]/reports&rdquo; folder. For instance, for donor_model copy the report folder <a href="https://github.com/SANDAG/RSM/tree/visualizer/visualizer/simwrapper/data/external/donor_model/report">here</a>.</p>
</li>
<li>
<p>Only for the RSM scenarios, copy <strong>mgra_crosswalk.csv</strong> and <strong>households.csv</strong> files from the scenario input folder and bring them to the input folder &ldquo;visualizer/simwrapper/data/external/[scenario_name]/input&rdquo;. Next, change the name of the &ldquo;households.csv&rdquo; to &ldquo;households_orig.csv&rdquo;. At this point the <a href="https://github.com/SANDAG/RSM/tree/visualizer/visualizer/simwrapper/data/external/rsm_scen/input">input</a> folder for RSM scenarios in the simwrapper folder should look like below: </p>
<p><img alt="" src="images\visualizer\image_19.PNG" /></p>
</li>
</ul>
<p>As mentioned earlier, if you wish to add any more RSM scenarios for comaprison, you can do it by modifying the <a href="https://github.com/SANDAG/RSM/blob/visualizer/visualizer/config/scenarios.yaml">scenarios.yaml</a> file. Simply add the scenario configuration by copying the rsm_scen section and paste it under and change &ldquo;rsm_scen&rdquo; to that new scenario name. Note that you will also need to add that another scenario config to the Data Pipeline and Post-Processing step.</p>
<p><img alt="" src="images\visualizer\image_18.PNG" /></p>
<p>Once you have copied required scenario files and the configuration setup, you are ready to runt the visualizer. </p>
<ul>
<li>
<p>Open Anaconda prompt and change the directory to visualizer folder in your local RSM repository. </p>
</li>
<li>
<p>Run the process scenario script by typing command below and then press enter.</p>
<p><code>python process_scenarios.py</code></p>
</li>
<li>
<p>Processing all the scenario using pipeline will take some time. </p>
</li>
<li>
<p>Once this script is run successfully, it creates the summary files for each scenario to feed into simwrapper. </p>
</li>
<li>
<p>Finally, open this link in the web browser - <a href="https://simwrapper.github.io/site/">https://simwrapper.github.io/site/</a></p>
</li>
<li>
<p>Click on &lsquo;Enter Site&rsquo; button, then click on &lsquo;add local folder&rsquo; and add simwrapper directory (visualizer\simwrapper) to run the SimWrapper Visualizer for RSM. </p>
</li>
</ul>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": ".", "features": ["navigation.tabs", "content.code.annotate", "content.tabs.link", "navigation.indexes"], "search": "assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script>
    
    
      <script src="assets/javascripts/bundle.dff1b7c8.min.js"></script>
      
    
  </body>
</html>